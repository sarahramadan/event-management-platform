<div class="event-form-container">
  <h1>{{ isEditMode() ? 'Edit Event' : 'Create New Event' }}</h1>
  
  <!-- Loading State -->
  <div *ngIf="loading()" class="loading">
    {{ isEditMode() ? 'Loading event...' : 'Saving event...' }}
  </div>

  <!-- Error State -->
  <div *ngIf="error()" class="error">
    {{ error() }}
  </div>

  <!-- Form -->
  <form *ngIf="!loading()" #eventForm="ngForm" (ngSubmit)="onSubmit(eventForm)" class="event-form">
    <div class="form-group">
      <label for="title">Title *</label>
      <input 
        type="text" 
        id="title" 
        name="title"
        [(ngModel)]="title" 
        required
        #titleInput="ngModel"
        placeholder="Enter event title"
        class="form-control"
      />
      <div *ngIf="titleInput.invalid && titleInput.touched" class="field-error">
        Title is required.
      </div>
    </div>

    <div class="form-group">
      <label for="date">Date & Time *</label>
      <input 
        type="datetime-local" 
        id="date" 
        name="date"
        [(ngModel)]="date" 
        required
        #dateInput="ngModel"
        class="form-control"
      />
      <div *ngIf="dateInput.invalid && dateInput.touched" class="field-error">
        Date and time are required.
      </div>
    </div>

    <div class="form-group">
      <label for="location">Location *</label>
      <input 
        type="text" 
        id="location" 
        name="location"
        [(ngModel)]="location" 
        required
        #locationInput="ngModel"
        placeholder="Enter event location"
        class="form-control"
      />
      <div *ngIf="locationInput.invalid && locationInput.touched" class="field-error">
        Location is required.
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea 
        id="description" 
        name="description"
        [(ngModel)]="description" 
        placeholder="Enter event description (optional)"
        class="form-control"
        rows="4"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="status">Status *</label>
      <select 
        id="status" 
        name="status"
        [(ngModel)]="status" 
        required
        class="form-control"
      >
        <option *ngFor="let option of getStatusOptions()" [value]="option.value">
          {{ option.label }}
        </option>
      </select>
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        [disabled]="!eventForm.valid || loading()" 
        class="btn btn-primary"
      >
        {{ isEditMode() ? 'Update Event' : 'Create Event' }}
      </button>
      <button 
        type="button" 
        (click)="cancel()" 
        class="btn btn-secondary"
      >
        Cancel
      </button>
    </div>
  </form>
</div>